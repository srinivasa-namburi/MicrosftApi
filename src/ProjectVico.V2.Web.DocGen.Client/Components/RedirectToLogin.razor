@inject NavigationManager NavigationManager
@* @inject AntiforgeryStateProvider AntiForgery *@
<MudText Typo="Typo.h1">Redirecting to Login</MudText>
@code {

    private string? currentUrl;

    protected override void OnInitialized()
    {

        try
        {
            //NavigationManager.NavigateTo($"authentication/login?antiForgeryToken={antiForgeryToken.Value}", forceLoad: true);
            NavigationManager.NavigateTo($"authentication/login?returnUrl={Uri.EscapeDataString(NavigationManager.Uri)}", forceLoad: true);
        } 
        catch (InvalidOperationException e)
        {
            // We expect this to happen because we are navigating away from the current page - so this happens twice.
            // We can ignore this exception.
        }
    }

}
